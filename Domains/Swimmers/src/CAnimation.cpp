/////////////////////////////////////////////////////////////////////////////
//
// CAnimation.cpp
//
// Remi Coulom
//
// December, 2003
//
/////////////////////////////////////////////////////////////////////////////
#include "CAnimation.h"
#include "CAnimationListener.h"

/////////////////////////////////////////////////////////////////////////////
// Constructor
/////////////////////////////////////////////////////////////////////////////
CAnimation::CAnimation(double xMinInit,
                       double yMinInit,
                       double xMaxInit,
                       double yMaxInit,
                       double ScaleInit,
                       double TimeStepInit) :
 xMin(xMinInit),
 yMin(yMinInit),
 xMax(xMaxInit),
 yMax(yMaxInit),
 Scale(ScaleInit),
 TimeStep(TimeStepInit),
 panlis(0),
 fStop(0)
{
}

/////////////////////////////////////////////////////////////////////////////
// ButtonPressed event
/////////////////////////////////////////////////////////////////////////////
void CAnimation::ButtonPressed(double x, double y)
{
 if (panlis)
  panlis->ButtonPressed(x, y);
}

/////////////////////////////////////////////////////////////////////////////
// Convert floating-point coordinates to pixels
/////////////////////////////////////////////////////////////////////////////
void CAnimation::ConvertToPixels(double x, double y, int &xi, int &yi)
{
 xi = int((x - xMin) * Scale);
 yi = int((yMax - y) * Scale);
}

/////////////////////////////////////////////////////////////////////////////
// Convert pixels to floating-point coordinates
/////////////////////////////////////////////////////////////////////////////
void CAnimation::ConvertFromPixels(int xi, int yi, double &x, double &y)
{
 x = xMin + xi / Scale;
 y = yMax - yi / Scale;
}
